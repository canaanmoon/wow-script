local Hunter = "target"
local HunterPet ="targetpet"
local Tbm = ambufflist()
local Tbt = ambufflist(Hunter)
local TblPet = ambufflist(HunterPet)


--if  amzy()== 猎人 then


if amfind("埃匹希斯印记",Tbm)   
   
then
     
	if amcd("隐形术") <=0
	then
	

    if  amfind("深度冻结", Tbt) -- and amfind("寒冰结界,冰锥术",TblPet)
    or  not amfind("深度冻结", Tbl) and amcd("深度冻结") >0 and amcd("闪现术") >0 and amcd("炽热疾速") >0 and amjl(Hunter)< 40
	then        
        amrun("隐形术") 
        return;
    end
    
    if not amfind("深度冻结", Tbt) and amcd("深度冻结") >0 and  not FHgetFacing(Hunter,120) and amcd("闪现术") >0 and amjl(Hunter)< 40   
    then        
        amrun("炽热疾速") 
        return;
    end
    
    if not amfind("深度冻结", Tbt) and amcd("深度冻结") >0   and  not FHgetFacing(Hunter,120) and  amjl(Hunter)< 40       
    then 
	    amrun("闪现术") 
        return;
    end
    
    if amfind("深度冻结", Tbt) and not amfind("寒冰结界",TblPet) and  amjl(HunterPet)<10 
	then        
        amrun("冰锥术") 
        return;
    end
    
    if not amfind("冰冻术",Tbt) and amcd("冰冻术") <=0 
	then 
        FHCastAOE(Hunter,"冰冻术")
        --print("需要打的图腾:"..UnitName("target"))
        return;     
    end
    
    if not amfind("深度冻结",Tbt)  and amcd("深度冻结") <=0 
	then  
        amrun("深度冻结")
        --print("需要打的图腾:"..UnitName("target"))
        return;
    end
    
else
    
    if amfind("冰冻术",Tbt) then 
        FHCastAOE(Hunter,"幻灵晶体")
        return;    
    end    
    
    if not amfind("隐形术", Tb) --and not amfind("主人的召唤",Tbt) and amjl(Hunter)> 15 
    then 
        FHCast(Hunter ,"冰冻术")
        return;     
    end
    
    if amfind("隐形术", Tb) and amjl(Hunter)<8 then 
        amrun("寒冰结界")        
        return;     
    end
    
    return;
	end
	
	
	
    return;      
end




return;
end
